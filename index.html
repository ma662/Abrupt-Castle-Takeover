<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Simple RPG Game</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
        <script src="main.js"></script> -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    </head>
    <body>
        <div>
            Simple RPG
        </div>

        <style>
            .dynamic-character-card {
                width: 375px;
                height: 200px;
                display: inline-block;
                margin-left: 1%;
                padding: 0.5em;

                background-color: thistle;
                border-color: darkolivegreen;
                border-style: double;
                border-width: 3px;
            }
            .dynamic-character-card:hover {
                opacity: 0.45;
            }

            .char-data {
                position: absolute;
                color: darkslategray;
                margin: 0;
                padding: 0;
                text-align: end;
            }

            img {
                width: 150px;
                height: 150px;

                border: 3px double crimson;
            }
        </style>

        <div class="content-container">
            <div class="character-selection"></div>
            
                <div class="character-attacking"> 
                    <!-- Character Attacking Div  -->
                </div>

                <div> Opponent Defender Area </div>

            <div> Opponent Selection Area </div>
        </div>


        <script type="text/javascript">

        var game = {
        //========================================
        // Variables for processing
        //========================================
        
        wins: 0,
        losses: 0,
        
        // increments after every attack function call
        attackCounter: 0,
        remainingEnemies: 0,

        // characters object of character objects
        characters: {
            character1: {
                name: "name1",
                hp: 16,
                attackPower: 9,
                uniqueAttack: "Sting of the brush",
                uniqueImage: "./assets/images/cristobal_rojas1.png"
            },

            character2: {
                name: "name2",
                hp: 10,
                attackPower: 12,
                uniqueAttack: "Modern Philosophy",
                uniqueImage: "./assets/images/domenikos_theotokopoulos1.png"
            },

            character3: {
                name: "name3",
                hp: 16,
                attackPower: 9,
                uniqueAttack: "Piercing Sword of the Heavens",
                uniqueImage: "./assets/images/edmund_blair_leighton2.png"
            }
        },

        foes: {
            // fill with foes
        },



        // get the data from characters and populate the character selection div
        spawnCharacters: function() {
            // for the length of the characters object
            for (var i = 0; i < Object.keys(game.characters).length; i++) {
                var characterDiv = $("<div>");
                var characterImage = $("<img>");
                
                // create css style for this class so it doesn't take up the whole line 
                characterDiv.addClass("dynamic-character-card");
                
                // character is the value from characters object at character key
                character = this.characters[Object.keys(this.characters)[i]];

                // link the character object image to the characterImage
                characterImage.attr("src", character.uniqueImage);

                // acts as a jQuery hook and a css styling thing
                characterImage.addClass("character-image");

                // provide character object, now image has all character data
                characterDiv.attr("data-character", character);
                characterImage.appendTo(characterDiv);
                
                // add to character-selection div
                $(".character-selection").append(characterDiv);
                
                // display data
                var name = character.name;
                var hp = character.hp;
                var attackPower = character.attackPower;
                var uniqueAttack = character.uniqueAttack;
                    
                var nameInfo = $("<p>");
                nameInfo.addClass("char-data");
                nameInfo.attr("id", "name-info");

                var hpInfo = $("<p>");
                hpInfo.addClass("char-data");
                hpInfo.attr("id", "hp-info");

                var apInfo = $("<p>");
                apInfo.addClass("char-data");
                apInfo.attr("id", "ap-info");

                var uaInfo = $("<p>");
                uaInfo.addClass("char-data");
                uaInfo.attr("id", "ua-info");

                nameInfo.text(name);
                hpInfo.text(hp);
                apInfo.text(attackPower);
                uaInfo.text(uniqueAttack);

                nameInfo.appendTo(characterDiv);
                hpInfo.appendTo(characterDiv);
                apInfo.appendTo(characterDiv);
                uaInfo.appendTo(characterDiv);

                // after loading in, run selectCharacter and wait for player selection
                this.selectCharacter();
            }

        },


        // select character function
        selectCharacter: function() {
            $(".character-attacking").hide();   // move to initialization function

            var activeCharacter;                // the fighting character

            // when player selects character
            $(".dynamic-character-card").on("click", function() {
                // hide selection char data
                $(".char-data").hide();
                activeCharacter = $(this);

                // console.log(activeCharacter);
                activeCharacter.appendTo(".character-attacking");

                // slideUp character selection
                $(".character-selection").slideUp(270);

                // fadeIn character attacking & their data
                $(".character-attacking").fadeIn(1000);
                $(".char-data").fadeIn(350);
                
                
                // fadeIn the foes
            });
        },
        
        selectFoe: function() { 
            // spawn 
            
            
            
            // fadeIn the options available to player
                // fight
                // run
        },
        
        }; // end game object

        game.spawnCharacters();
        
        </script>
        
    </body>
</html>